# 로깅(Logging) 개념과 실무 정리

## 1. 로깅이란
프로그램이 실행되는 동안 발생하는 **이벤트, 상태, 오류, 성능 정보** 등을  
파일이나 콘솔, 외부 시스템에 기록하는 행위.  
문제 진단, 모니터링, 보안 감사, 성능 분석을 위해 필수적으로 사용한다.

---

## 2. 로깅의 목적
- **문제 추적**: 에러나 예외가 발생했을 때 원인 파악
- **동작 기록**: 사용자의 행동·시스템 흐름 기록
- **보안 감사**: 접근 기록, 로그인 이력 관리
- **성능 분석**: 처리 속도, 병목 구간 확인
- **운영 모니터링**: 서버 상태와 트래픽 확인

---

## 3. 주요 로깅 레벨
로깅 라이브러리들은 보통 아래와 같은 **심각도(Severity) 레벨**을 제공한다.

| 레벨 | 용도 |
|------|-----|
| TRACE | 세부 동작 추적, 디버깅용 |
| DEBUG | 개발 단계에서 상세 상태 확인 |
| INFO  | 정상 동작의 주요 이벤트 기록 |
| WARN  | 경고, 잠재적 문제 |
| ERROR | 오류 발생, 복구 가능 |
| FATAL | 시스템 중단 수준의 치명적 오류 |

> 개발 환경에서는 DEBUG/TRACE까지, 운영 환경에서는 INFO 이상만 남기는 식으로 환경별 설정을 나누는 것이 일반적이다.

---

## 4. 로깅 아키텍처
1. **Logger**: 로그를 남기는 주체 (`logger.info("message")`)
2. **Appender/Handler**: 로그를 실제 저장(파일, 콘솔, DB, 원격 서버 등)
3. **Layout/Formatter**: 로그 출력 포맷 설정

---

## 5. 언어·플랫폼별 대표 도구
- **Java**: SLF4J + Logback, Log4j2
- **Spring Boot**: 기본 Logback, `application.yml` 로 레벨/패턴 설정
- **Linux/Infra**: syslog, journald, ELK(Stack), Grafana Loki

---

## 6. 실무 팁
- **환경별 설정 분리**: dev는 DEBUG, prod는 INFO 이상  
- **로그 회전(Log Rotation)**: 파일 크기나 날짜별로 자동 분할/압축
- **구조화 로그(Structured Logging)**: JSON 형식으로 기록하면 ELK·CloudWatch·Datadog 등에서 검색/분석이 쉬움
- **민감정보 마스킹**: 비밀번호, 주민번호 등 개인정보는 저장하지 않거나 마스킹 처리
- **분산 트레이싱**: 마이크로서비스 환경에서는 Trace ID, Correlation ID로 요청 단위 추적
