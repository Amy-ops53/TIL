# 프록시 서버(Proxy Server)와 API Gateway

클라이언트가 직접 백엔드 서버에 접근하지 않고 **중간 서버**를 거쳐 요청·응답을 처리하는 구조에서  
자주 사용되는 두 가지 개념이 **프록시 서버**와 **API Gateway**다.

---

## 1. 프록시 서버 (Proxy Server)

### 정의
- 클라이언트 요청을 대신 받아서 목적지 서버에 전달하고, 응답을 다시 클라이언트에 전달하는 **중계 서버**  
- 보통 **Forward Proxy**와 **Reverse Proxy**로 구분

### 종류
- **Forward Proxy**  
  - 클라이언트 앞단에서 동작  
  - 클라이언트가 직접 목적지에 연결하지 않고 프록시를 통해 외부로 나감  
  - 예: 회사 내부망에서 외부 인터넷 접속을 제어할 때

- **Reverse Proxy**  
  - 서버 앞단에서 동작  
  - 외부 클라이언트가 실제 서버 주소를 몰라도 프록시가 요청을 받아 백엔드로 전달  
  - 예: Nginx, Apache httpd, HAProxy

### 주요 기능
- 요청 라우팅 및 로드 밸런싱
- SSL/TLS 종료(HTTPS 종단)
- 캐싱을 통한 응답 속도 향상
- 방화벽·IP 차단, 보안 강화
- 백엔드 서버 주소 노출 차단

---

## 2. API Gateway

### 정의
- **마이크로서비스** 또는 다수의 백엔드 API를 하나의 진입점(Entry Point)에서 관리하는 **API 전용 게이트웨이**
- 클라이언트는 API Gateway만 호출하고, Gateway가 각 서비스로 라우팅

### 주요 기능
- **요청 라우팅**: 여러 백엔드 서비스로 트래픽을 분배
- **인증/인가**: JWT, OAuth 등 토큰 검증
- **Rate Limiting & Throttling**: 과도한 요청 제한
- **요청/응답 변환**: 포맷 변경, 헤더/쿼리 추가
- **모니터링 & 로깅**: API 호출량, 지연 시간 등 수집
- **캐싱 및 압축**: 성능 개선

### 예시 솔루션
- Spring Cloud Gateway
- Kong
- AWS API Gateway
- Nginx (Gateway 기능으로 확장 가능)

---

## 3. 비교

| 구분          | 프록시 서버 (Reverse Proxy)              | API Gateway                                 |
|---------------|------------------------------------------|----------------------------------------------|
| **주요 목적** | 요청을 대신 전달하고 서버를 보호·분산    | API 요청을 통합 관리하고 인증·정책 적용      |
| **기능 범위** | 로드 밸런싱, SSL 종료, 캐싱, 보안         | 라우팅 + 인증/인가 + 로깅 + Rate Limiting 등 |
| **대상**      | 모든 종류의 웹 트래픽                     | REST, GraphQL 등 API 호출 중심               |
| **구현 예**   | Nginx, Apache, HAProxy                   | Spring Cloud Gateway, Kong, AWS API Gateway  |

---

## 요약
- **프록시 서버**: 클라이언트와 서버 사이의 중계자. 주로 로드 밸런싱·보안·캐싱 목적  
- **API Gateway**: 다양한 API 서비스를 통합·관리하는 중앙 관문. 인증·트래픽 제어·모니터링 기능 포함  
- 둘 다 “클라이언트 ↔ 중간 서버 ↔ 백엔드 서버” 구조를 가지지만  
  **API Gateway는 API 중심의 고급 기능을 제공한다는 점**이 가장 큰 차이
