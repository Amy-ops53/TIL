# 웹 방화벽(Web Application Firewall, WAF)

---

## 1. 개요
- **웹 방화벽(WAF)**는 웹 애플리케이션을 보호하기 위해 **HTTP/HTTPS 트래픽을 모니터링·필터링·차단**하는 보안 장비/소프트웨어.
- 일반 네트워크 방화벽이 IP, 포트, 프로토콜 수준에서 트래픽을 제어한다면,  
  WAF는 **웹 요청 데이터(헤더, URL, 파라미터, 쿠키 등)**까지 분석한다.

---

## 2. 주요 목적
- 웹 애플리케이션 취약점을 악용한 공격 차단.
- 서비스 가용성 유지 및 정보 유출 방지.
- 기업의 보안 규정 및 컴플라이언스(PCI-DSS 등) 충족.

---

## 3. 방어 가능한 대표 공격
1. **SQL Injection**  
   - 데이터베이스 질의를 조작하는 공격.
2. **XSS (Cross-Site Scripting)**  
   - 악성 스크립트를 삽입해 클라이언트에서 실행.
3. **CSRF (Cross-Site Request Forgery)**  
   - 사용자의 인증 세션을 도용해 악의적 요청 수행.
4. **파일 업로드 공격**  
   - 악성 스크립트 파일을 업로드 후 실행.
5. **기타 웹 취약점**  
   - 디렉토리 트래버설, 세션 하이재킹, 알려진 취약 API 호출 등.

---

## 4. 동작 방식
- **화이트리스트 기반**: 허용된 요청만 처리.
- **블랙리스트 기반**: 알려진 공격 패턴 차단.
- **정책 기반 필터링**: 관리자가 정의한 보안 규칙 적용.
- **시그니처 기반**: 보안 업체가 제공하는 공격 패턴 업데이트로 탐지.

---

## 5. 장점
- 애플리케이션 코드 수정 없이 보안 강화 가능.
- 제로데이 공격 일부 방어 가능.
- 웹 로그 분석을 통한 위협 가시성 제공.

---

## 6. 한계
- 모든 공격을 100% 막지는 못함 (특히 논리적 취약점).
- 잘못된 정책 설정 시 정상 요청도 차단(오탐, False Positive).
- 최신 공격 기법에 대한 시그니처 업데이트 필요.

---

## 7. 요약
- 웹 방화벽(WAF)는 애플리케이션 계층(7계층) 보안을 담당하는 방화벽.  
- SQL Injection, XSS, CSRF 등 주요 웹 공격을 탐지/차단.  
- 보안 강화에 효과적이지만, 운영 시 정책 튜닝과 모니터링이 필수.
