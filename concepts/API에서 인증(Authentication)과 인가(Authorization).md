# API에서 인증(Authentication)과 인가(Authorization)

## 1. 개념 차이
| 구분 | 의미 | 핵심 질문 |
|------|------|----------|
| **인증 (Authentication)** | 사용자가 누구인지 확인 | "너는 누구인가?" |
| **인가 (Authorization)**  | 인증된 사용자가 무엇을 할 수 있는지 권한 부여 | "무엇을 할 수 있는가?" |

---

## 2. 인증 (Authentication)
- **목적**: API 요청자가 **진짜 사용자**인지 증명
- **방법 예시**
  - ID/비밀번호 로그인 → 세션·쿠키 발급
  - OAuth 2.0 로그인 (구글·카카오 등 소셜 로그인)
  - API Key, JWT(Json Web Token)
- **흐름 예시**
  1. 클라이언트가 아이디/비번으로 로그인
  2. 서버가 사용자 정보 확인 후 토큰(JWT 등) 발급
  3. 이후 요청 시 토큰을 헤더에 담아 전송

---

## 3. 인가 (Authorization)
- **목적**: 인증된 사용자가 **접근 가능한 자원과 동작**을 결정
- **방법 예시**
  - 역할(Role) 기반 접근 제어 (Admin, User 등)
  - 리소스/권한 기반 정책 (특정 API 엔드포인트별 권한)
- **흐름 예시**
  1. 클라이언트가 발급받은 토큰과 함께 API 요청
  2. 서버가 토큰의 사용자 권한(roles, scopes) 확인
  3. 권한이 있으면 요청 처리, 없으면 403 Forbidden 반환

---

## 4. 함께 동작하는 방식
1. **인증**으로 사용자를 확인 → 토큰 발급
2. **인가**로 사용자가 해당 API·리소스에 접근 가능한지 검사

---

## 5. 간단 요약
- **인증**: “누구인지 증명”  
- **인가**: “무엇을 할 수 있는지 결정”  
- 둘을 함께 사용해 API를 안전하게 보호한다.
